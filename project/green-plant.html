<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Multi-Agent Path Finding</title>
  <meta name='description' content='This is a portfolio site for Prakrit Tyagi.'>

  <link rel="canonical" href="https://prakrittyagi.github.io/project/green-plant">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Multi-Agent Path Finding – Prakrit Tyagi">
  <meta name="twitter:description" content="Multi-agent path finding (MAPF) is an NP-hard problem with practical applications in areas like surveillance, search and rescue, and warehouse logistics. In one-shot MAPF, the goal is to compute collision-free paths for agents from their starting positions to target locations while minimizing a predefined objective, such as makespan or path length. Lifelong multi-agent pathfinding (LMAPF) extends this by requiring agents to continuously adapt to new goals and replan paths dynamically, increasing complexity, especially in dense environments. Conflict-Based Search (CBS) algorithm addresses these challenges by using a two-level approach: a high-level Conflict Tree tracks agent conflicts, while a low-level single-agent search resolves constraints. This project implemented a lifelong variant of CBS in a small-scale environment, inspired by the League of Robot Runners competition by Amazon Robotics.
">
  <meta name="twitter:image:src" content="https://prakrittyagi.github.io/images/cover_multi_robot.jpg">

  <!-- Facebook OpenGraph -->
  <meta property="og:title" content="Multi-Agent Path Finding – Prakrit Tyagi">
  <meta property="og:description" content="Multi-agent path finding (MAPF) is an NP-hard problem with practical applications in areas like surveillance, search and rescue, and warehouse logistics. In one-shot MAPF, the goal is to compute collision-free paths for agents from their starting positions to target locations while minimizing a predefined objective, such as makespan or path length. Lifelong multi-agent pathfinding (LMAPF) extends this by requiring agents to continuously adapt to new goals and replan paths dynamically, increasing complexity, especially in dense environments. Conflict-Based Search (CBS) algorithm addresses these challenges by using a two-level approach: a high-level Conflict Tree tracks agent conflicts, while a low-level single-agent search resolves constraints. This project implemented a lifelong variant of CBS in a small-scale environment, inspired by the League of Robot Runners competition by Amazon Robotics.
">
  <meta property="og:image" content="https://prakrittyagi.github.io/images/cover_multi_robot.jpg">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">

  <!-- Ionicons -->
  <link href="https://unpkg.com/ionicons@4.5.10-0/dist/css/ionicons.min.css" rel="stylesheet">

  <link rel="stylesheet" href="/assets/main.css">
</head>

<body>

    

    <!-- begin header -->
<header class="c-header">
  <div class="container">
    <div class="row">
      <div class="c-header__inner">

        <div class="logo">
          <a class="logo__link" href="/">
          
            
          
          </a>
        </div>

        <nav class="main-nav">
          <div class="main-nav__box">

            <div class="nav__icon-close">
              <i class="ion ion-md-close"></i>
            </div>

            <div class="nav__title">Menu</div>

              <ul class="nav__list list-reset">

              
                
                <li class="nav__item">
                  <a href="/" class="nav__link">Home</a>
                </li>
                
              
                
                <li class="nav__item">
                  <a href="/projects/" class="nav__link">Projects</a>
                </li>
                
              
                
                <li class="nav__item">
                  <a href="/blog/" class="nav__link">Blog</a>
                </li>
                
              

            </ul>
          </div>

          <!--bookshop-live meta(version="3.9.0" baseurl="" title="Prakrit Tyagi") -->
<!--bookshop-live name(social-link.jekyll.html) params() context() -->

<div class="social">
  <ul class="social__list list-reset">
    
    <li class="social__item">
      <a class="social__link" href="https://twitter.com" target="_blank" rel="noopener" aria-label="twitter icon"><i class="ion ion-logo-twitter"></i></a>
    </li>
    
    <li class="social__item">
      <a class="social__link" href="https://github.com" target="_blank" rel="noopener" aria-label="github icon"><i class="ion ion-logo-github"></i></a>
    </li>
    
    <li class="social__item">
      <a class="social__link" href="https://pinterest.com" target="_blank" rel="noopener" aria-label="pinterest icon"><i class="ion ion-logo-pinterest"></i></a>
    </li>
    
    <li class="social__item">
      <a class="social__link" href="https://youtube.com" target="_blank" rel="noopener" aria-label="youtube icon"><i class="ion ion-logo-youtube"></i></a>
    </li>
    
  </ul>
</div>

<!--bookshop-live end-->
        </nav>

        <div class="nav-button">
          <i class="nav__icon nav__icon-menu ion ion-md-menu"></i>
        </div>

      </div>
    </div>
  </div>
</header>
<!-- end header -->

    <div class="container">

  <!--bookshop-live meta(version="3.9.0" baseurl="" title="Prakrit Tyagi") -->
<!--bookshop-live name(page-heading/page-heading.jekyll.html) params(title=page.title description=page.subtitle) context() -->

<div class="container">
  <div class="c-page-heading">
    <h1 class="c-page-heading__title">Multi-Agent Path Finding</h1>
    
      <p class="c-page-heading__description">Planning and Decision Making</p>
    
  </div>
</div>
<!--bookshop-live end-->
  
  <!--bookshop-live meta(version="3.9.0" baseurl="" title="Prakrit Tyagi") -->
<!--bookshop-live name(page-image/page-image.jekyll.html) params(image=page_image) context() -->

<div class="container">
  <div class="row">
    <div class="col col-12">
      <div class="c-page-image animate">
        <img loading="lazy" src="/images/cover_multi_robot.jpg" alt="">
      </div>
    </div>
  </div>
</div>
<!--bookshop-live end-->

  <div class="page animate">
    <p>Multi-agent path finding (MAPF) is an NP-hard problem with practical applications in areas like surveillance, search and rescue, and warehouse logistics. In one-shot MAPF, the goal is to compute collision-free paths for agents from their starting positions to target locations while minimizing a predefined objective, such as makespan or path length. Lifelong multi-agent pathfinding (LMAPF) extends this by requiring agents to continuously adapt to new goals and replan paths dynamically, increasing complexity, especially in dense environments. Conflict-Based Search (CBS) algorithm addresses these challenges by using a two-level approach: a high-level Conflict Tree tracks agent conflicts, while a low-level single-agent search resolves constraints. This project implemented a lifelong variant of CBS in a small-scale environment, inspired by the League of Robot Runners competition by Amazon Robotics.</p>

<h2 id="problem-statement">Problem statement</h2>

<p>Given a 4 connected Grid, N-agents are trying to maximize task completion under time constraint while avoiding path conflict.</p>

<p><img src="/images/MAPF_problem_statement.svg" alt="MAPF_problem_statement" width="900" height="675" /></p>

<p>Our robot can move forward, or rotate 90 degrees at one location. This means that our action, state
and goal variables are as follows:</p>

<p><img src="/images/MAPF_variables.svg" alt="MAPF_variables" width="900" height="675" /></p>

<p>Our planner algorithm will generate paths that will cause conflict. In our case we will consider two types of conflicts, which are edge and vertex conflicts.</p>

<h2 id="planning-algorithm-conflict-based-search">Planning Algorithm: Conflict Based Search</h2>

<p>Conflict Based Search (CBS) is a two-level algorithm that diverges from converting the problem into a single ’joint agent’ model. Instead, it adopts a distinctive approach where, at the high level, a search is conducted on a Conflict Tree. This tree is structured based on conflicts between individual agents, with each node in the CT representing a set of constraints on the agent’s motion. Simultaneously, at the low level, swift single-agent searches are executed to find new paths as to fulfill the constraints dictated by the high-level CT node. The unique two-level formulation of CBS often results in the examination of fewer states compared to A*, all while maintaining optimality in many cases.</p>

<p><img src="/images/MAPF_binary_tree.svg" alt="MAPF_BT" width="900" height="675" /></p>

<h2 id="pseudo-code">Pseudo Code</h2>

<p>Pseudo code for life-long MAPF and CBS function is given below.</p>

<p><img src="/images/MAPF_pseudo_lifelong.svg" alt="MAPF_ps_ll" width="550" height="400" /></p>

<p><img src="/images/MAPF_pseudo_CBS.svg" alt="MAPF_ps_ll" width="550" height="400" /></p>

<h2 id="demostration-video">Demostration Video</h2>

<p>To visualize we used an open source tool called <a href="https://github.com/MAPF-Competition/PlanViz">PlanViz</a>. The video below shows the demonstration of the life-long CBS algorithm in action.</p>

<p><img src="/images/Planviz.gif" alt="MAPF_video" width="800" /></p>

<h2 id="results">Results</h2>

<p>The results of the CBS algorithm are shown below. The algorithm was able to find the optimal paths for the agents in the given environment.</p>

<p><img src="/images/MAPF_results.svg" alt="MAPF_results" width="900" height="675" /></p>

<h2 id="conclusion">Conclusion</h2>

<p>The results show that in a larger map (33x57 cells) with more agents (25), task completion was higher (3666 tasks) but at the cost of increased computational time (72.722 seconds) and more CBS calls. In contrast, a smaller map (32x32 cells) with fewer agents (20) led to fewer tasks completed (3416) but required less time (70.821 seconds) and fewer CBS calls (2492). The algorithm performed more efficiently in the smaller, organized warehouse environment, where structured paths reduced tree size during planning, leading to faster, more optimal solutions. In contrast, the larger, more complex environment required more CBS calls and time to find optimal paths, highlighting the trade-off between task completion and computational efficiency.</p>

<h2 id="future-work">Future Work</h2>

<ul>
  <li>Implementing Improved Conflict Based Search (ICBS)</li>
  <li>Implementing Explicit Estimation Conflict-Based Search (EECBS)</li>
  <li>Increasing Scalability of existing pipeline for solving more than 10k agents</li>
</ul>

<h2 id="references">References</h2>

<p>Read Full Report <a href="/files/planning_project_report.pdf">Here</a></p>

  </div>

  

</div>

<!--bookshop-live meta(version="3.9.0" baseurl="" title="Prakrit Tyagi") -->
<!--bookshop-live name(newsletter/newsletter.jekyll.html) params(newsletter_title=site.data.newsletter.newsletter_title
  newsletter_description=site.data.newsletter.newsletter_description
  newsletter_identifier=site.data.newsletter.newsletter_identifier
  newsletter_button=site.data.newsletter.newsletter_button) context() -->
<!-- begin subscribe -->

<section class="c-subscribe section">
  <div class="container">
    <div class="row">
      <div class="col col-12">

        <div class="c-subscribe__inner">
          <div class="c-subscribe__info">
            <h3 class="c-subscribe__title">Join my mailing list</h3>
            <div class="c-subscribe__subtitle">
              <span id="ityped"></span>
            </div>
          </div>

          <form class="c-subscribe__form validate" action="//frnla.us6.list-manage.com/subscribe/post?u=6314d69a3f315af7ce3fb00a0&amp;id=3038727cc3"
            method="POST" id="membedded-subscribe-form" name="membedded-subscribe-form" target="_blank" novalidate>
            <label class="screen-reader-text" for="mce-EMAIL">Email address</label>
            <input class="c-subscribe__form-email required email" id="mce-EMAIL" type="text" name="EMAIL" placeholder="Your email address">
            <button class="c-button c-button--primary c-button--large" id="membedded-subscribe" type="submit" name="subscribe">Subscribe</button>
          </form>

        </div>
      </div>
    </div>
  </div>
</section>
<!-- end subscribe -->

<script>
  var itype_text = ['Get inspiration, updates and, cool stuff!'];
</script>
<!--bookshop-live end-->

    <!--
        Bookshop components are accessed using the bookshop tag,
        using the same syntax as the standard Jekyll include tag.
    -->
    <!--bookshop-live meta(version="3.9.0" baseurl="" title="Prakrit Tyagi") -->
<!--bookshop-live name(page.jekyll.html) params(content_blocks=page.content_blocks page_theme=page.page_theme) context() -->

<!--bookshop-live end-->

    <div class="top" title="Top"><i class="ion ion-ios-arrow-up"></i></div>

    <!-- begin footer -->
<footer class="footer">
  <div class="container">
    <div class="row">
      <div class="col col-12">

        <!--bookshop-live meta(version="3.9.0" baseurl="" title="Prakrit Tyagi") -->
<!--bookshop-live name(social-link.jekyll.html) params() context() -->

<div class="social">
  <ul class="social__list list-reset">
    
    <li class="social__item">
      <a class="social__link" href="https://twitter.com" target="_blank" rel="noopener" aria-label="twitter icon"><i class="ion ion-logo-twitter"></i></a>
    </li>
    
    <li class="social__item">
      <a class="social__link" href="https://github.com" target="_blank" rel="noopener" aria-label="github icon"><i class="ion ion-logo-github"></i></a>
    </li>
    
    <li class="social__item">
      <a class="social__link" href="https://pinterest.com" target="_blank" rel="noopener" aria-label="pinterest icon"><i class="ion ion-logo-pinterest"></i></a>
    </li>
    
    <li class="social__item">
      <a class="social__link" href="https://youtube.com" target="_blank" rel="noopener" aria-label="youtube icon"><i class="ion ion-logo-youtube"></i></a>
    </li>
    
  </ul>
</div>

<!--bookshop-live end-->

        <ul class="footer_nav list-reset">
          
          <li class="footer_nav__item">
            <a href="/" class="footer_nav__link">Home</a>
          </li>
          
          <li class="footer_nav__item">
            <a href="/projects/" class="footer_nav__link">Projects</a>
          </li>
          
          <li class="footer_nav__item">
            <a href="/elements/" class="footer_nav__link">Elements</a>
          </li>
          
          <li class="footer_nav__item">
            <a href="/about/" class="footer_nav__link">About</a>
          </li>
          
          <li class="footer_nav__item">
            <a href="/blog/" class="footer_nav__link">Blog</a>
          </li>
          
        </ul>

        <div class="copyright"><p> 2021 &copy; <a href="/">Vonge</a>. Template by <a href="https://cloudcannon.com/">CloudCannon</a>.</p></div>

      </div>
    </div>
  </div>
</footer>
<!-- end footer -->

    <script src="/js/scripts.js"></script>
    <script src="/js/common.js"></script>
</body>
</html>